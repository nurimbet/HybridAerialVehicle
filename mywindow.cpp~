#include "mywindow.h"

MyWindow::MyWindow(const ds::WorldPtr& world) 
{ 
    setWorld(world); 
    mZoom = 0.01;
}

void MyWindow::drawSkels() {
    // Make sure lighting is turned on and that polygons get filled in
    glEnable(GL_LIGHTING);
    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);

    Eigen::Matrix3d rot;
    rot = Eigen::AngleAxisd(90/180*M_PI, Eigen::Vector3d::UnitY());
    Eigen::Quaterniond quat(rot);    

    mTrackBall.setQuaternion(quat);
    mEye = viewTrack;
    SimWindow::drawSkels();
    
    /*for (unsigned int i = 0; i < mWorld->getNumSkeletons(); i++) {
        mWorld->getSkeleton(i)->draw(mRI);
    }*/

}

void MyWindow::setViewTrack(const Eigen::Vector3d& v)
{
    viewTrack = v - Eigen::Vector3d(10, 10, 10);
    
}
